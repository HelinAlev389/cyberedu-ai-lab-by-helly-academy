{% extends "base.html" %}
{% block title %}AI –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow p-4">
    <h3 class="mb-4 text-primary text-center">‚öôÔ∏è AI –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ —É—Ä–æ–∫</h3>

    <form method="POST" action="{{ url_for('teacher_dashboard.set_ai_config') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="row g-3">
        <div class="col-md-6">
          <label for="topic" class="form-label">üìö –¢–µ–º–∞</label>
          <select class="form-select" name="topic" id="topic" required>
            <option value="network" {% if cfg.topic == 'network' %}selected{% endif %}>–ú—Ä–µ–∂–∏</option>
            <option value="cybersecurity" {% if cfg.topic == 'cybersecurity' %}selected{% endif %}>–ö–∏–±–µ—Ä—Å–∏–≥—É—Ä–Ω–æ—Å—Ç</option>
            <option value="linux" {% if cfg.topic == 'linux' %}selected{% endif %}>Linux</option>
            <option value="cpp" {% if cfg.topic == 'cpp' %}selected{% endif %}>C++</option>
            <option value="web" {% if cfg.topic == 'web' %}selected{% endif %}>–£–µ–± —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
            <option value="cryptography" {% if cfg.topic == 'cryptography' %}selected{% endif %}>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è</option>
          </select>
        </div>

        <div class="col-md-6">
          <label for="difficulty" class="form-label">üéØ –ù–∏–≤–æ</label>
          <select name="difficulty" id="difficulty" class="form-select" required>
            <option value="beginner" {% if cfg.difficulty == 'beginner' %}selected{% endif %}>–ù–∞—á–∞–ª–Ω–æ</option>
            <option value="intermediate" {% if cfg.difficulty == 'intermediate' %}selected{% endif %}>–°—Ä–µ–¥–Ω–æ</option>
            <option value="advanced" {% if cfg.difficulty == 'advanced' %}selected{% endif %}>–ù–∞–ø—Ä–µ–¥–Ω–∞–ª–æ</option>
          </select>
        </div>

        <div class="col-md-6">
          <label for="checkpoint" class="form-label">üìà –ú–∏–Ω–∏–º–∞–ª–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∑–∞ –ø—Ä–µ–º–∏–Ω–∞–≤–∞–Ω–µ</label>
          <input type="number" name="checkpoint" id="checkpoint" min="0" max="100" required
            class="form-control" value="{{ cfg.checkpoint or 50 }}">
        </div>

        <div class="col-md-12">
          <label for="notes" class="form-label">üìù –ë–µ–ª–µ–∂–∫–∏ –∑–∞ AI</label>
          <textarea name="notes" id="notes" class="form-control" rows="4"
            placeholder="–û–ø–∏—à–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç...">{{ cfg.notes if cfg.notes else '' }}</textarea>
        </div>
      </div>

      <div class="mt-4 d-flex justify-content-center">
        <button type="submit" class="btn btn-success px-4">üíæ –ó–∞–ø–∞–∑–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
